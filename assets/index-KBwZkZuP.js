import{i as j,M as A,T as w,p as V}from"./vendor-Dz46q13P.js";import{r as J,g as K}from"./highlight-CAOHOvZ5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();var X=J();const Y=K(X);function d(e,t,o){let n=t;for(;n<o&&j(e.charCodeAt(n));)n+=1;return n}function N(e){return/[A-Za-z0-9]/.test(e)}function Z(e,t,o){let n=t;const r=e.slice(t,t+5);if(r!=="image"&&r!=="audio"&&r!=="video"||(n+=5,e.charAt(n)!=="/"))return null;n+=1;const i=n;for(;n<o&&N(e.charAt(n));)n+=1,/[-+.]/.test(e.charAt(n))&&(n+=1);if(n===i)return null;if(e.charAt(n)===";")for(n+=1;n<o&&e.charAt(n)!=="]";)n+=1;return{pos:n,value:e.slice(t,n)}}function $(e,t,o,n=A()){let r=t;if(e.slice(r,r+2)!=="![")return null;r=d(e,r+2,o);const i=Z(e,r,o);if(!i||(r=d(e,i.pos,o),e.slice(r,r+2)!=="]("))return null;r=d(e,r+2,o);const s=n.helpers.parseLinkDestination(e,r,o);if(!s.ok)return null;const a=n.normalizeLink(s.str);return!n.validateLink(a)||(r=d(e,s.pos,o),r>=o||e.charAt(r)!==")")?null:{pos:r+1,res:{src:a,type:i.value}}}function C(e,t,o){let n=t;for(;n<o&&/\d/.test(e.charAt(n));)n+=1;return n===t?null:(e.charAt(n)==="%"&&(n+=1),{pos:n,value:e.slice(t,n)})}function Q(e,t,o){let n=t;if(n>=o||e.charAt(n)!=="=")return null;n+=1;const r=C(e,n,o);let i="";if(r&&(n=r.pos,i=r.value),e.charAt(n)!=="x")return null;n+=1;const s=C(e,n,o);let a="";if(s)n=s.pos,a=s.value;else if(!r)return null;return{pos:n,res:{width:i,height:a}}}function ee(e,t,o,n=A()){let r=t;if(e.slice(r,r+2)!=="#=")return null;r+=2;const i=n.helpers.parseLinkDestination(e,r,o);if(!i.ok)return null;const s=n.normalizeLink(i.str);return n.validateLink(s)?(r=i.pos,{pos:r,value:s}):null}function te(e,t,o){let n=t;for(;n<o&&N(e.charAt(n));)n+=1,e.charAt(n)==="-"&&(n+=1);return e.charAt(n-1)==="-"&&(n-=1),n===t?null:{pos:n,value:e.slice(t,n)}}function ne(e,t,o,n=A()){let r=t;if(e.charAt(r)!=="[")return null;r=d(e,r+1,o);const i=te(e,r,o);if(!i||(r=d(e,i.pos,o),e.slice(r,r+2)!=="]("))return null;r=d(e,r+2,o);const s=n.helpers.parseLinkDestination(e,r,o);if(!s.ok)return null;const a=n.normalizeLink(s.str);if(!n.validateLink(a))return null;r=d(e,s.pos,o);const l=n.helpers.parseLinkTitle(e,r,o);let c=null;return l.ok&&(c=l.str,r=d(e,l.pos,o)),r>=o||e.charAt(r)!==")"?null:{pos:r+1,res:{src:a,srclang:i.value,label:c}}}function re(e,t){let o=t;const n={title:null,poster:null,width:null,height:null,sources:[],captions:[]};for(;o<e.posMax&&(o+=1,!!j(e.src.charCodeAt(o))););if(o>=e.posMax)return null;let r=$(e.src,o,e.posMax,e.md);if(!r){const s=e.md.helpers.parseLinkDestination(e.src,o,e.posMax);if(s.ok){const a=e.md.normalizeLink(s.str);if(!e.md.validateLink(a))return null;r={pos:s.pos,res:{src:a,type:null}}}}for(;r;)n.sources.push(r.res),o=d(e.src,r.pos,e.posMax),r=$(e.src,o,e.posMax,e.md);if(n.sources.length===0)return null;o=d(e.src,o,e.posMax);const i=e.md.helpers.parseLinkTitle(e.src,o,e.posMax);for(o<e.posMax&&i.ok&&(n.title=i.str,o=d(e.src,i.pos,e.posMax));o<e.posMax&&j(e.src.charCodeAt(o-1));){if(!n.width&&!n.height){const a=Q(e.src,o,e.posMax);if(a){n.width=a.res.width,n.height=a.res.height,o=d(e.src,a.pos,e.posMax);continue}}if(!n.poster){const a=ee(e.src,o,e.posMax,e.md);if(a){n.poster=a.value,o=d(e.src,a.pos,e.posMax);continue}}const s=ne(e.src,o,e.posMax);if(s){n.captions.push(s.res),o=d(e.src,s.pos,e.posMax);continue}break}return{pos:o,res:n}}function oe(e){if(e.src.charAt(e.pos)!=="!"||e.src.charAt(e.pos+1)!=="[")return null;const t=e.pos+2,o=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(o<0)return null;const n=e.src.slice(t,o);let r=o+1;if(r<e.posMax&&e.src.charAt(r)==="("){const u=re(e,r);return!u||(r=u.pos,r>=e.posMax||e.src.charAt(r)!==")")?null:(r+=1,{pos:r,res:{label:n,...u.res}})}const{env:i}=e;if(!i||typeof i!="object"||!("references"in i))return null;let s=n;if(r=d(e.src,r,e.posMax),r<e.posMax&&e.src.charAt(r)==="["){const u=r+1;r=e.md.helpers.parseLinkLabel(e,r),r>=0?(s=e.src.slice(u,r),r+=1):r=o+1}else r=o+1;s||(s=e.src.slice(t,o));const{references:a}=i;if(!a||typeof a!="object")return null;const l=e.md.utils.normalizeReference(s),c=a[l];if(!c||typeof c!="object")return null;const p={label:n,sources:[],title:null,poster:null,width:null,height:null,captions:[]};if("href"in c&&typeof c.href=="string")p.sources=[{src:c.href,type:null}];else if("sources"in c&&Array.isArray(c.sources))p.sources=c.sources;else return null;return"title"in c&&typeof c.title=="string"&&(p.title=c.title),"poster"in c&&typeof c.poster=="string"&&(p.poster=c.poster),"width"in c&&typeof c.width=="string"&&(p.width=c.width),"height"in c&&typeof c.height=="string"&&(p.height=c.height),"captions"in c&&Array.isArray(c.captions)&&(p.captions=c.captions),{pos:r,res:p}}const ie=new Map([["bmp","image"],["gif","image"],["jpg","image"],["jpeg","image"],["png","image"],["svg","image"],["tif","image"],["tiff","image"],["webp","image"],["avi","video"],["m4v","video"],["mkv","video"],["mov","video"],["mpg","video"],["mp4","video"],["ogv","video"],["webm","video"],["wmv","video"],["aac","audio"],["flac","audio"],["m4a","audio"],["mp3","audio"],["oga","audio"],["ogg","audio"],["wav","audio"]]);function se(e){for(const t of e)if(t.type){const[o]=t.type.split("/");if(o&&(o==="image"||o==="audio"||o==="video"))return o}for(const{src:t}of e){const{pathname:o}=new URL(t,"http://unused.invalid"),n=o.split(".").at(-1)?.toLowerCase()??"",r=ie.get(n);if(r)return r}return null}function x(e){const t=new w("text","",0);return t.content=e,t}function ae(e,t,o={}){e.attrSet("src",t.sources[0].src),e.attrSet("alt",""),t.title&&e.attrSet("title",t.title),t.width&&e.attrSet("width",t.width),t.height&&e.attrSet("height",t.height);for(const[n,r]of Object.entries(o))e.attrSet(n,r)}function le(e,t,o={}){t.title&&e.attrSet("title",t.title),e.tag!=="audio"&&(t.width&&e.attrSet("width",t.width),t.height&&e.attrSet("height",t.height),t.poster&&e.attrSet("poster",t.poster));for(const[n,r]of Object.entries(o))e.attrSet(n,r)}function ce(e,t,o){const n=[];let r;const i=se(t.sources);if(!i||i==="image")return r=e.push("image","img",0),e.md.inline.parse(t.label,e.md,e.env,n),r.children=n,ae(r,t,o?.attrs?.image),r;let s=i;s==="audio"&&(t.poster||t.captions.length>0)&&(s="video"),r=e.push(i,s,0);for(const{src:a,type:l}of t.sources){const c=new w("source","source",0);c.attrSet("src",a),l&&c.attrSet("type",l),n.push(c)}for(const a of t.captions){const l=new w("track","track",0);l.attrSet("src",a.src),l.attrSet("srclang",a.srclang),a.label&&l.attrSet("label",a.label),l.attrSet("kind","captions"),n.push(l)}e.md.inline.parse(t.label,e.md,e.env,n);for(const{src:a,type:l}of t.sources){n.push(x(" "));const c=new w("link_open","a",1);c.attrSet("href",a),n.push(c);let p=null;if(l){const u=l.match(/^[a-z]+\/(.+)(?:;.*)*/);u&&u[1]&&(p=`${u[1]} `)}n.push(x(`Download ${p??""}${i}`)),n.push(new w("link_close","a",-1))}return n.push(x(".")),r.children=n,o?.controls&&r.attrSet("controls",""),le(r,t,o?.attrs?.[i]),r}function ue(e){return function(o,n){const{pos:r,posMax:i}=o,s=oe(o);return s?(o.pos=s.pos,n||ce(o,s.res,e),!0):(o.pos=r,o.posMax=i,!1)}}function H(e,t,o,n,r){const i=e[t],s=r.renderAttrs(i),a=`<${i.tag}${s}>`,l=`</${i.tag}>`;let c="";return i.children&&(c=r.renderInline(i.children,o,n)),`${a}${c}${l}`}function pe(e,t){e.inline.ruler.before("image","media",ue(t)),e.inline.ruler.disable("image"),e.renderer.rules.audio=H,e.renderer.rules.video=H}var R=!1,m={false:"push",true:"unshift",after:"push",before:"unshift"},T={isPermalinkSymbol:!0};function M(e,t,o,n){var r;if(!R){var i="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";typeof process=="object"&&process&&process.emitWarning?process.emitWarning(i):console.warn(i),R=!0}var s=[Object.assign(new o.Token("link_open","a",1),{attrs:[].concat(t.permalinkClass?[["class",t.permalinkClass]]:[],[["href",t.permalinkHref(e,o)]],Object.entries(t.permalinkAttrs(e,o)))}),Object.assign(new o.Token("html_block","",0),{content:t.permalinkSymbol,meta:T}),new o.Token("link_close","a",-1)];t.permalinkSpace&&o.tokens[n+1].children[m[t.permalinkBefore]](Object.assign(new o.Token("text","",0),{content:" "})),(r=o.tokens[n+1].children)[m[t.permalinkBefore]].apply(r,s)}function q(e){return"#"+e}function W(e){return{}}var de={class:"header-anchor",symbol:"#",renderHref:q,renderAttrs:W};function y(e){function t(o){return o=Object.assign({},t.defaults,o),function(n,r,i,s){return e(n,o,r,i,s)}}return t.defaults=Object.assign({},de),t.renderPermalinkImpl=e,t}function _(e){var t=[],o=e.filter(function(n){if(n[0]!=="class")return!0;t.push(n[1])});return t.length>0&&o.unshift(["class",t.join(" ")]),o}var L=y(function(e,t,o,n,r){var i,s=[Object.assign(new n.Token("link_open","a",1),{attrs:_([].concat(t.class?[["class",t.class]]:[],[["href",t.renderHref(e,n)]],t.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(t.renderAttrs(e,n))))}),Object.assign(new n.Token("html_inline","",0),{content:t.symbol,meta:T}),new n.Token("link_close","a",-1)];if(t.space){var a=typeof t.space=="string"?t.space:" ";n.tokens[r+1].children[m[t.placement]](Object.assign(new n.Token(typeof t.space=="string"?"html_inline":"text","",0),{content:a}))}(i=n.tokens[r+1].children)[m[t.placement]].apply(i,s)});Object.assign(L.defaults,{space:!0,placement:"after",ariaHidden:!1});var f=y(L.renderPermalinkImpl);f.defaults=Object.assign({},L.defaults,{ariaHidden:!0});var z=y(function(e,t,o,n,r){var i=[Object.assign(new n.Token("link_open","a",1),{attrs:_([].concat(t.class?[["class",t.class]]:[],[["href",t.renderHref(e,n)]],Object.entries(t.renderAttrs(e,n))))})].concat(t.safariReaderFix?[new n.Token("span_open","span",1)]:[],n.tokens[r+1].children,t.safariReaderFix?[new n.Token("span_close","span",-1)]:[],[new n.Token("link_close","a",-1)]);n.tokens[r+1]=Object.assign(new n.Token("inline","",0),{children:i})});Object.assign(z.defaults,{safariReaderFix:!1});var P=y(function(e,t,o,n,r){var i;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(t.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+t.style+"`");if(!["aria-describedby","aria-labelledby"].includes(t.style)&&!t.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+t.style+"` style");if(t.style==="visually-hidden"&&!t.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var s=n.tokens[r+1].children.filter(function(u){return u.type==="text"||u.type==="code_inline"}).reduce(function(u,g){return u+g.content},""),a=[],l=[];if(t.class&&l.push(["class",t.class]),l.push(["href",t.renderHref(e,n)]),l.push.apply(l,Object.entries(t.renderAttrs(e,n))),t.style==="visually-hidden"){if(a.push(Object.assign(new n.Token("span_open","span",1),{attrs:[["class",t.visuallyHiddenClass]]}),Object.assign(new n.Token("text","",0),{content:t.assistiveText(s)}),new n.Token("span_close","span",-1)),t.space){var c=typeof t.space=="string"?t.space:" ";a[m[t.placement]](Object.assign(new n.Token(typeof t.space=="string"?"html_inline":"text","",0),{content:c}))}a[m[t.placement]](Object.assign(new n.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new n.Token("html_inline","",0),{content:t.symbol,meta:T}),new n.Token("span_close","span",-1))}else a.push(Object.assign(new n.Token("html_inline","",0),{content:t.symbol,meta:T}));t.style==="aria-label"?l.push(["aria-label",t.assistiveText(s)]):["aria-describedby","aria-labelledby"].includes(t.style)&&l.push([t.style,e]);var p=[Object.assign(new n.Token("link_open","a",1),{attrs:_(l)})].concat(a,[new n.Token("link_close","a",-1)]);(i=n.tokens).splice.apply(i,[r+3,0].concat(p)),t.wrapper&&(n.tokens.splice(r,0,Object.assign(new n.Token("html_block","",0),{content:t.wrapper[0]+`
`})),n.tokens.splice(r+3+p.length+1,0,Object.assign(new n.Token("html_block","",0),{content:t.wrapper[1]+`
`})))});function D(e,t,o,n){var r=e,i=n;if(o&&Object.prototype.hasOwnProperty.call(t,r))throw new Error("User defined `id` attribute `"+e+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(t,r);)r=e+"-"+i,i+=1;return t[r]=!0,r}function h(e,t){t=Object.assign({},h.defaults,t),e.core.ruler.push("anchor",function(o){for(var n,r={},i=o.tokens,s=Array.isArray(t.level)?(n=t.level,function(u){return n.includes(u)}):(function(u){return function(g){return g>=u}})(t.level),a=0;a<i.length;a++){var l=i[a];if(l.type==="heading_open"&&s(Number(l.tag.substr(1)))){var c=t.getTokensText(i[a+1].children),p=l.attrGet("id");p=p==null?D(p=t.slugifyWithState?t.slugifyWithState(c,o):t.slugify(c),r,!1,t.uniqueSlugStartIndex):D(p,r,!0,t.uniqueSlugStartIndex),l.attrSet("id",p),t.tabIndex!==!1&&l.attrSet("tabindex",""+t.tabIndex),typeof t.permalink=="function"?t.permalink(p,t,o,a):(t.permalink||t.renderPermalink&&t.renderPermalink!==M)&&t.renderPermalink(p,t,o,a),a=i.indexOf(l),t.callback&&t.callback(l,{slug:p,title:c})}}})}Object.assign(P.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),h.permalink={__proto__:null,legacy:M,renderHref:q,renderAttrs:W,makePermalink:y,linkInsideHeader:L,ariaHidden:f,headerLink:z,linkAfterHeader:P},h.defaults={level:1,slugify:function(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(e){return e.filter(function(t){return["text","code_inline"].includes(t.type)}).map(function(t){return t.content}).join("")},permalink:!1,renderPermalink:M,permalinkClass:f.defaults.class,permalinkSpace:f.defaults.space,permalinkSymbol:"¶",permalinkBefore:f.defaults.placement==="before",permalinkHref:f.defaults.renderHref,permalinkAttrs:f.defaults.renderAttrs},h.default=h;const O=new A({html:!0,linkify:!0,breaks:!0}).use(Y,{inline:!0}).use(pe,{controls:!0,attrs:{image:{},audio:{controls:"",preload:"metadata"},video:{controls:"",autoplay:"",loop:"",muted:"",playsinline:"",preload:"metadata",style:"max-width:100%;height:auto;"}}}).use(h,{slugify:e=>e.trim().toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-")}),U=O.renderer.rules.link_open??((e,t,o,n,r)=>r.renderToken(e,t,o));O.renderer.rules.link_open=(e,t,o,n,r)=>{const i=e[t].attrGet("href");if(i&&i.startsWith("#"))return U(e,t,o,n,r);const s=e[t].attrIndex("target");s<0?e[t].attrPush(["target","_blank"]):e[t].attrs[s][1]="_blank";const a=e[t].attrIndex("rel");return a<0?e[t].attrPush(["rel","noopener noreferrer"]):e[t].attrs[a][1]="noopener noreferrer",U(e,t,o,n,r)};function fe(e=""){const t=O.render(e);return V.sanitize(t,{ADD_TAGS:["video","audio","source"],ADD_ATTR:["controls","autoplay","loop","muted","playsinline","preload","poster","src","type","style","width","height","aria-label"]})}function he(e,t=""){e&&(e.innerHTML=fe(t))}async function k(e){const t=await fetch(e,{credentials:"omit",cache:"no-store",redirect:"follow",mode:"cors"});if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const o=await t.text(),n=o.slice(0,200).toLowerCase().replace(/\s+/g,"");if(n.startsWith("<!doctypehtml")||n.startsWith("<html"))throw new Error(`Expected markdown, got HTML document from ${e}. This usually means the URL is wrong or was rewritten to your index.html.`);const r=document.getElementById("content");return he(r,o),o}async function me(){const t=new URLSearchParams(window.location.search).get("name");if(console.log("[project] repoName =",t),!t){document.getElementById("content").innerHTML="<p>Missing <code>?name=</code> in URL.</p>";return}const o="mailittlepony",n="/portfolio/",r=n.startsWith("http")?n:window.location.origin+n,i=document.getElementById("content");try{console.log("[project] try local:",`markdown/${t}.md`),await k(`markdown/${t}.md`),B("#content",r);return}catch(s){console.warn("[project] local markdown missing → fallback to GitHub README:",s)}for(const s of["main","master"]){const a=`https://raw.githubusercontent.com/${o}/${encodeURIComponent(t)}/${s}/`,l=`${a}README.md`;console.log("[project] try GitHub:",l);try{await k(l),B("#content",a);return}catch(c){console.warn(`[project] README not found on ${s}:`,c)}}i.innerHTML=`<p>Could not load README for <code>${t}</code>. Check repository name/case or branch.</p>`}function B(e,t){const o=document.querySelector(e);o&&o.querySelectorAll("img, a, video, source").forEach(n=>{for(const r of["src","href"]){const i=n.getAttribute(r);if(!(!i||/^https?:\/\//i.test(i)))try{n.setAttribute(r,new URL(i,t).toString())}catch{}}})}async function ge(){const e=await k("markdown/home.md");we(e);const t=document.getElementById("content").querySelectorAll("p");for(const o of t){const n=o.querySelectorAll("img");if(n.length>=2){o.classList.add("selected-project");for(const r of n){const i=r.alt.trim(),s=document.createElement("a");s.href=`?name=${encodeURIComponent(i)}`;const a=document.createElement("div");a.classList.add("title"),s.style.position="relative";const l=document.createElement("h2");l.textContent=i,a.appendChild(l),o.appendChild(s),s.appendChild(r),s.appendChild(a)}break}}}function we(e){const t=/## Other projects([\s\S]*?)(##|$)/,o=/\*\*\[(.+?)\]\((.+?)\)\*\*\s+_([^_]+)_\s+-\s+\*\*Technologies\*\*: ([^\n]+)\s+-\s+\*\*License\*\*: ([^\n]+)\s+-\s+\*\*Last Updated\*\*: ([^\n]+)\s*(?:-\s+\*\*Image\*\*: ([^\n]+))?/g,n=e.match(t);if(!n){console.error("Projects section not found");return}const r=[];o.lastIndex=0;let i;for(;(i=o.exec(n[1]))!==null;)r.push({title:i[1].trim(),url:i[2].trim(),description:i[3].trim(),technologies:i[4].split(",").map(u=>u.trim()),license:i[5].trim(),lastUpdated:i[6].trim(),imageUrl:i[7]?.trim()||""});if(!r.length){console.error("No projects parsed");return}const s=document.getElementById("content"),a=Array.from(s.querySelectorAll("h2")).find(u=>u.textContent.trim().toLowerCase()==="other projects");if(!a){console.error("Projects section header not found in rendered HTML");return}let l=a.nextElementSibling;for(;l&&l.tagName!=="H2";){const u=l.nextElementSibling;l.remove(),l=u}const c={JavaScript:"yellow",Python:"steelBlue","C#":"green","C++":"deepPink",GLSL:"skyBlue"},p=a.nextElementSibling;r.forEach(u=>{const g=u.title,I=u.technologies[0]||"",F=c[I]||"#586069",S=document.createElement("div");S.classList.add("project-card"),S.innerHTML=`
<div class="project-text">
    <div class="project-header">
        <a href="?name=${encodeURIComponent(g)}" class="project-title">${u.title}</a>
    </div>
    <p class="project-description">${u.description}</p>
    <ul class="project-tags">
        ${u.technologies.map(G=>`<li>${G}</li>`).join("")}
    </ul>
    <div class="project-meta">
        <span class="language">
            <span class="language-dot" style="background-color: ${F};"></span> ${I}
        </span>
        <span>${u.license}</span>
        <span>Updated ${u.lastUpdated}</span>
    </div>
</div>
${u.imageUrl?`<img src="${u.imageUrl}" alt="${u.title} image" class="project-image" />`:""}
`,s.insertBefore(S,p)})}const ke=new Set(["contact","home"]);function b(e,t){const o=document.getElementById("readme-link"),n=document.getElementById("contact-link");o?.classList.remove("active"),n?.classList.remove("active"),!t&&((!e||e==="home")&&o?.classList.add("active"),e==="contact"&&n?.classList.add("active"))}function ye(){const e=document.getElementById("page");e&&e.scrollTo({top:0,left:0,behavior:"auto"}),window.scrollTo({top:0,left:0,behavior:"auto"})}function be(){const e=window.location.hash;if(!e)return;const t=e.slice(1),o=document.getElementById(t);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}function v(){window.location.hash?be():ye()}async function E(){const e=new URLSearchParams(window.location.search),t=e.get("name"),o=(e.get("view")||"").toLowerCase();if(t){b("",!0),await me(),v();return}if(o&&ke.has(o)){b(o,!1),await k(`markdown/${o}.md`),v();return}if(o)try{b(o,!1),await k(`markdown/${o}.md`),v();return}catch(n){console.warn(`[router] markdown/${o}.md not found → home`,n)}b("home",!1),await ge(),v()}function ve(){document.addEventListener("click",e=>{const t=e.target.closest?.("a");if(!t)return;const o=new URL(t.href,window.location.href);!(o.origin===window.location.origin&&o.pathname===window.location.pathname)||!(o.searchParams.has("name")||o.searchParams.has("view")||o.search===""||o.search==="?")||(e.preventDefault(),history.pushState(null,"",o),E())}),window.addEventListener("popstate",E)}document.addEventListener("DOMContentLoaded",()=>{ve(),E()});
