import{l}from"./utils-DMOYZQIq.js";async function u(){const t=new URLSearchParams(window.location.search).get("name");if(console.log("[project] repoName =",t),!t){document.getElementById("content").innerHTML="<p>Missing <code>?name=</code> in URL.</p>";return}const n="mailittlepony",o="/portfolio/",r=o.startsWith("http")?o:window.location.origin+o,e=document.getElementById("content");try{console.log("[project] try local:",`markdown/${t}.md`),await l(`markdown/${t}.md`),m("#content",r);return}catch(c){console.warn("[project] local markdown missing â†’ fallback to GitHub README:",c)}for(const c of["main","master"]){const s=`https://raw.githubusercontent.com/${n}/${encodeURIComponent(t)}/${c}/`,i=`${s}README.md`;console.log("[project] try GitHub:",i);try{await l(i),m("#content",s);return}catch(d){console.warn(`[project] README not found on ${c}:`,d)}}e.innerHTML=`<p>Could not load README for <code>${t}</code>. Check repository name/case or branch.</p>`}function m(a,t){const n=document.querySelector(a);n&&n.querySelectorAll("img, a").forEach(o=>{for(const r of["src","href"]){const e=o.getAttribute(r);if(!(!e||/^https?:\/\//i.test(e)))try{o.setAttribute(r,new URL(e,t).toString())}catch{}}})}u();
